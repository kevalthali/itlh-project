"use strict";define(["jquery","NavigationController","Magento_Customer/js/customer-data","jquery/jquery.cookie","jquery/ui","Magento_Ui/js/modal/modal"],function(e,t,o){function n(t){t.preventDefault();var o=e(t.target).closest("a"),n=o.closest('[data-role="product-listing"]');i("CustomiseProduct",{id:n.data("productsku"),name:n.data("productname"),price:n.data("productprice")}),window.location=e(o).attr("href")}function i(e,t){window.fbq&&fbq("trackCustom",e,t)}function a(t,o){o=void 0!==o&&o;var n=e(window).outerHeight(!0),i=e(window).outerWidth(!0)>=768?e(".page-header").outerHeight(!0)-1:0,a=e(t).outerHeight(),c=void 0;if(o&&n>=a+i){var r=(n-i-a)/2;c=e(t).offset().top-i-r}else c=e(t).offset().top-i-parseInt(e(t).css("margin-top"));e("html, body").animate({scrollTop:c},600)}function c(t){var o=e((t?"."+t:"")+'[data-role="product-listing"]'),n=[];o.length>0&&(o.each(function(t,o){var i=e(o);n.push({id:i.data("productsku"),name:i.data("productname"),price:i.data("productprice"),position:i.data("productposition"),list:i.data("listname")})}),dataLayer.push({ecommerce:{currencyCode:undandyGtmCurrency,impressions:n},event:"impression"}))}require(["domReady!"],function(){if(window.location.hash){var t=window.location.hash;e(t).length&&(e(window).scrollTop(0),setTimeout(function(){a(t)},1))}e("body").on("click",'[data-role="product-click-detail"]',function(t){window.ga&&(t.preventDefault(),function(t){var o=t.closest('[data-role="product-listing"]'),n=[{id:o.data("productsku"),name:o.data("productname"),price:o.data("productprice"),position:o.data("productposition")}];dataLayer.push({ecommerce:{currencyCode:undandyGtmCurrency,click:{actionField:{list:o.data("listname")},products:n}},event:"productClick",eventCallback:function(){window.location=e(t).attr("href")}})}(e(t.target).closest("a")))}),e("body").on("click",'[data-role="product-click-customize"]',n),e("body").on("undandy.newsletterSubscription",function(e){i("NewsletterSubscribe")}),e("body").on("undandy.updateWiderFitEEE",function(e,t){t&&i("Customiser-AddWiderFit")}),e("body").on("undandy.updateRubberOutsole",function(e,t){t&&i("Customiser-AddRubberOutsole")}),e("body").on("undandy.updateInsoles",function(e,t){t&&i("Customiser-AddInsoles")}),e("body").on("undandy.addCustomizerLaces",function(e){i("Customiser-AddShoelaces")}),e(".input-combo.shoelaces input[type=checkbox]").on("click",function(t){e(t.target).is(":checked")&&i("AddShoelaces")}),e(".input-combo.insoles input[type=checkbox]").on("click",function(t){e(t.target).is(":checked")&&i("AddInsoles")}),e(".input-combo.wider-fit-eee input[type=checkbox]").on("click",function(t){e(t.target).is(":checked")&&i("AddWiderFit")}),e(".input-combo.add-rubber-outsole input[type=checkbox]").on("click",function(t){e(t.target).is(":checked")&&i("AddRubberOutsole")}),o.get("undandy-common-gtm").subscribe(function(e){if(e&&void 0!==e.events){for(var t=0;t<e.events.length;t++){var n=e.events[t];void 0!==n.eventAdditional&&n.eventAdditional&&("AddToCart"==n.eventName&&dataLayer.push({event:"AddToCart",ecommerce:{currencyCode:undandyGtmCurrency,add:{products:n.eventAdditional.items}}}),"InitiateCheckout"==n.eventName&&dataLayer.push({event:"InitiateCheckout",ecommerce:{currencyCode:undandyGtmCurrency,checkout:{products:n.eventAdditional}}}))}o.set("undandy-common-gtm",{})}}),e("body").on("undandy.gtmImpressions",function(e,t){c(t)}),c(),function(){var t="cookieConsent";if(!e.cookie(t)){var o=function(){e.cookie(t,"1",{expires:365})};setTimeout(function(){var t=e.mage.__("This store uses cookies, also from third parties, to offer you a better experience. By continuing to browse our site you are agreeing to our  cookie policy.<br><br> Please click <a target='_blank' href='/privacy-policy'>here</a> to learn more or how to deactivate the cookies.");e("<div />").html(t).modal({title:"Cookie Consent",autoOpen:!0,closed:o,modalClass:"cookie-consent-modal",buttons:[{text:"Confirm",attr:{"data-action":"confirm"},class:"action-primary",click:function(){o(),this.closeModal()}}]})},2500)}}()});var r=e(".isSticky");r.length&&require(["stickyfill"],function(e){e.add(r)});t=new t;e("[js-animate]").length&&require(["AnimationsController"],function(e){e=new e}),e("[js-smooth-scroll]").on("click",function(t){var o=e(this).attr("href"),n=o.substr(o.indexOf("#"));if(!e(n).length)return!0;t.preventDefault(),a(n,"center"===e(this).attr("js-smooth-scroll"))});var d=e(".js-search-button"),s=e(".block-search"),u=e(s).find("input");e(d).on("click",function(t){t.preventDefault(),e("body").toggleClass("_open-search"),setTimeout(function(){e(u).trigger("focus")},50)}),e("body").on("click",function(t){d.length&&d[0]==t.target||s.length&&e.contains(s[0],t.target)||e("body").removeClass("_open-search")});var l=e(".category-nav"),p=e(l).find(".items"),m=e(p).find(".item"),f=e(p).find(".item.current a");e(f).on("click",function(t){if(e(window).outerWidth()<480){t.preventDefault();var o=0,n=parseInt(e(p).css("borderTopWidth"))+parseInt(e(p).css("borderBottomWidth"));e(p).toggleClass("open"),e(p).hasClass("open")?e(m).each(function(){o+=e(this).outerHeight(!0)}):o=e(f).outerHeight(!0),o+=n,e(p).css("height",o)}}),0!=e(".loader-customizer").length&&require(["tweenMax"],function(t){var o=e(".loader-customizer__image"),n=new TimelineMax({repeat:-1});o.each(function(e,t){n.delay(.4).fromTo(t,.4,{x:"100%"},{x:"0%",ease:Back.easeOut},"+=.4").to(t,.6,{scale:0,ease:Expo.easeOut},"+=.4")})})});